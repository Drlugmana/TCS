foreach (var kvp in entitiesList)
{
    // CON dominio (FQDN) tal cual
    var fullKey = (kvp.Key ?? string.Empty).Trim().ToUpperInvariant();
    if (!string.IsNullOrEmpty(fullKey))
        normalizedEntities.TryAdd(fullKey, kvp.Value);

    // SIN dominio (primer label) para hacer match flexible
    var shortKey = fullKey.Split('.')[0];
    if (!string.IsNullOrEmpty(shortKey))
        normalizedEntities.TryAdd(shortKey, kvp.Value);
}