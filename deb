builder.Services.AddCors(options =>
{
    options.AddPolicy("AllowFrontend", policy =>
        policy
            // ðŸ‘‡ agrega aquÃ­ la/s URL/s reales de tu frontend en IIS
            .WithOrigins(
                "http://10.70.72.120:8080",  // <-- CAMBIA por tu binding real en IIS (http/https y puerto)
                "http://localhost:5173",
                "https://localhost:5173"
            )
            // Permitir tambiÃ©n devtunnels (cualquiera *.use.devtunnels.ms)
            .SetIsOriginAllowed(origin =>
            {
                try
                {
                    var host = new Uri(origin).Host;
                    return host.EndsWith(".use.devtunnels.ms", StringComparison.OrdinalIgnoreCase)
                           || host.Equals("localhost", StringComparison.OrdinalIgnoreCase)
                           || host.Equals("10.70.72.120"); // opcional si acceden por IP directa
                }
                catch { return false; }
            })
            .AllowAnyHeader()
            .AllowAnyMethod()
            // .AllowCredentials()  // habilÃ­talo SOLO si realmente usas cookies/autenticaciÃ³n; si lo activas, NO puedes usar AllowAnyOrigin
    );
});