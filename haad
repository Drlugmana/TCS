const all = await fetchProblemsRange({ startIso, endIso, pageSize: 500, maxPages: 60 });

// ðŸ”¹ FILTRO FECHA REAL (AYER 00:00 â†’ AHORA)
const startDate = new Date(startIso);
const endDate = new Date(endIso);

const filteredByDate = all.filter((p) => {
  if (!p.startTime) return false;
  const d = new Date(p.startTime);
  return d >= startDate && d <= endDate;
});

// SOLO TCS
const tcs = filteredByDate.filter(
  (x) => String(x.jurisdiction || "").toUpperCase() === "TCS"
);

setBase(tcs);

---

const all = await fetchProblemsRange({ startIso, endIso, pageSize: 500, maxPages: 60 });

// ðŸ”¹ FILTRO FECHA REAL (AYER 00:00 â†’ AHORA)
const startDate = new Date(startIso);
const endDate = new Date(endIso);

const filteredByDate = all.filter((p) => {
  if (!p.startTime) return false;
  const d = new Date(p.startTime);
  return d >= startDate && d <= endDate;
});

// SOLO OTROS (NO TCS)
const otros = filteredByDate.filter(
  (x) => String(x.jurisdiction || "").toUpperCase() !== "TCS"
);

setBase(otros);